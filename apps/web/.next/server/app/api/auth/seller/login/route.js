"use strict";(()=>{var e={};e.id=602,e.ids=[602],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8466:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>h,routeModule:()=>m,serverHooks:()=>w,staticGenerationAsyncStorage:()=>g});var r={};s.r(r),s.d(r,{GET:()=>c,POST:()=>d});var a=s(3036),o=s(5736),i=s(5262),n=s(942);let l=require("bcryptjs");var u=s.n(l);let p=[{id:"seller_1",email:"seller@example.com",password:"$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi",firstName:"Ahmet",lastName:"Yılmaz",storeName:"Ahmet'in 3D Mağazası",status:"active",role:"seller",createdAt:"2024-01-01T00:00:00Z"},{id:"seller_2",email:"test@test.com",password:"$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi",firstName:"Fatma",lastName:"Demir",storeName:"Fatma'nın Fig\xfcr D\xfcnyası",status:"pending",role:"seller",createdAt:"2024-01-15T00:00:00Z"}];async function d(e){try{let{email:t,password:s}=await e.json();if(!t||!s)return n.NextResponse.json({error:"E-posta ve şifre gereklidir"},{status:400});if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return n.NextResponse.json({error:"Ge\xe7erli bir e-posta adresi giriniz"},{status:400});let r=p.find(e=>e.email.toLowerCase()===t.toLowerCase());if(!r)return n.NextResponse.json({error:"Bu e-posta adresi ile kayıtlı satıcı bulunamadı"},{status:401});if(!await u().compare(s,r.password))return n.NextResponse.json({error:"Şifre hatalı"},{status:401});if("suspended"===r.status)return n.NextResponse.json({error:"Hesabınız askıya alınmış. L\xfctfen destek ekibi ile iletişime ge\xe7in."},{status:403});r.lastLoginAt=new Date().toISOString();let a=`seller_token_${r.id}_${Date.now()}`,{password:o,...i}=r;return n.NextResponse.json({success:!0,message:"Giriş başarılı",seller:i,token:a,redirectTo:"pending"===r.status?"/seller/dashboard?status=pending":"/seller/dashboard"})}catch(e){return n.NextResponse.json({error:"Giriş sırasında bir hata oluştu"},{status:500})}}async function c(e){try{let{searchParams:t}=new URL(e.url),s=t.get("password");if(!s)return n.NextResponse.json({error:"Password parameter is required"},{status:400});let r=await u().hash(s,10);return n.NextResponse.json({password:s,hashedPassword:r})}catch(e){return n.NextResponse.json({error:"Hash generation failed"},{status:500})}}let m=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/seller/login/route",pathname:"/api/auth/seller/login",filename:"route",bundlePath:"app/api/auth/seller/login/route"},resolvedPagePath:"C:\\Users\\taha\\tdc-products-website\\apps\\web\\src\\app\\api\\auth\\seller\\login\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:h,staticGenerationAsyncStorage:g,serverHooks:w}=m,x="/api/auth/seller/login/route";function f(){return(0,i.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:g})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[522,746],()=>s(8466));module.exports=r})();