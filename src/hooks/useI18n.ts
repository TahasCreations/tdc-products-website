'use client';

import { useCallback, useState, useEffect } from 'react';

const locales = ['tr', 'en', 'de', 'fr', 'es', 'ar'];
const defaultLocale = 'tr';

export function useI18n() {
  const [locale, setLocale] = useState(defaultLocale);

  useEffect(() => {
    // Load saved language preference
    if (typeof window !== 'undefined') {
      const savedLocale = localStorage.getItem('preferred-language');
      if (savedLocale && locales.includes(savedLocale)) {
        setLocale(savedLocale);
      }
    }
  }, []);

  const changeLanguage = useCallback((newLocale: string) => {
    if (!locales.includes(newLocale)) return;
    
    setLocale(newLocale);
    
    // Save preference to localStorage
    if (typeof window !== 'undefined') {
      localStorage.setItem('preferred-language', newLocale);
    }
    
    // Reload page to apply language change
    setTimeout(() => {
      window.location.reload();
    }, 100);
  }, []);

  const t = useCallback((key: string, params?: Record<string, string | number>) => {
    // Simple translation function - in a real app, you'd use a proper i18n library
    const translations: Record<string, Record<string, string>> = {
      tr: {
        'nav.home': 'Ana Sayfa',
        'nav.products': 'Ürünler',
        'nav.about': 'Hakkımızda',
        'nav.contact': 'İletişim',
        'nav.blog': 'Blog',
        'nav.campaigns': 'Kampanyalar',
        'nav.cart': 'Sepet',
        'nav.profile': 'Profil',
        'nav.orders': 'Siparişlerim',
        'nav.wishlist': 'Favorilerim',
        'nav.login': 'Giriş Yap',
        'nav.register': 'Kayıt Ol',
        'nav.logout': 'Çıkış Yap',
        'nav.admin': 'Admin',
        'hero.title': '3D Baskı Figürler',
        'hero.subtitle': 'Anime, oyun ve film karakterlerinin yüksek kaliteli 3D baskı figürleri',
        'hero.cta': 'Ürünleri Keşfet',
        'features.quality': 'Premium Kalite',
        'features.quality.desc': 'Profesyonel 3D yazıcılarla üretilen yüksek kaliteli figürler',
        'features.fast': 'Hızlı Teslimat',
        'features.fast.desc': '2-5 iş günü içinde kapınızda',
        'features.secure': 'Güvenli Alışveriş',
        'features.secure.desc': 'SSL sertifikası ile korumalı ödeme',
        'features.satisfaction': 'Müşteri Memnuniyeti',
        'features.satisfaction.desc': '%100 müşteri memnuniyeti garantisi',
        'footer.about': 'Hakkımızda',
        'footer.products': 'Ürünler',
        'footer.support': 'Destek',
        'footer.legal': 'Yasal',
        'footer.contact': 'İletişim',
        'footer.follow': 'Takip Et',
        'footer.rights': 'Tüm hakları saklıdır.',
        'product.add_to_cart': 'Sepete Ekle',
        'product.view_details': 'Detayları Gör',
        'product.price': 'Fiyat',
        'product.stock': 'Stok',
        'product.category': 'Kategori',
        'cart.title': 'Sepetim',
        'cart.empty': 'Sepetiniz boş',
        'cart.total': 'Toplam',
        'cart.checkout': 'Sipariş Ver',
        'cart.remove': 'Kaldır',
        'checkout.title': 'Sipariş Ver',
        'checkout.shipping': 'Kargo Bilgileri',
        'checkout.payment': 'Ödeme',
        'checkout.complete': 'Siparişi Tamamla',
        'admin.dashboard': 'Dashboard',
        'admin.products': 'Ürünler',
        'admin.orders': 'Siparişler',
        'admin.customers': 'Müşteriler',
        'admin.analytics': 'Analitik',
        'admin.settings': 'Ayarlar',
        'common.loading': 'Yükleniyor...',
        'common.error': 'Hata oluştu',
        'common.success': 'Başarılı',
        'common.save': 'Kaydet',
        'common.cancel': 'İptal',
        'common.delete': 'Sil',
        'common.edit': 'Düzenle',
        'common.view': 'Görüntüle',
        'common.close': 'Kapat',
        'common.search': 'Ara',
        'common.filter': 'Filtrele',
        'common.sort': 'Sırala',
        'common.back': 'Geri',
        'common.next': 'İleri',
        'common.previous': 'Önceki',
        'common.page': 'Sayfa',
        'common.of': 'toplam',
        'common.results': 'sonuç',
        'common.items': 'öğe',
        'common.yes': 'Evet',
        'common.no': 'Hayır',
        'common.ok': 'Tamam',
        'common.confirm': 'Onayla',
        'common.required': 'Zorunlu',
        'common.optional': 'Opsiyonel',
        'common.all': 'Tümü',
        'common.none': 'Hiçbiri',
        'common.select': 'Seçin',
        'common.choose': 'Seç',
        'common.upload': 'Yükle',
        'common.download': 'İndir',
        'common.print': 'Yazdır',
        'common.share': 'Paylaş',
        'common.copy': 'Kopyala',
        'common.paste': 'Yapıştır',
        'common.cut': 'Kes',
        'common.undo': 'Geri Al',
        'common.redo': 'Yinele',
        'common.refresh': 'Yenile',
        'common.reload': 'Yeniden Yükle',
        'common.reset': 'Sıfırla',
        'common.clear': 'Temizle',
        'common.select_all': 'Tümünü Seç',
        'common.deselect_all': 'Seçimi Kaldır',
        'common.toggle': 'Aç/Kapat',
        'common.show': 'Göster',
        'common.hide': 'Gizle',
        'common.expand': 'Genişlet',
        'common.collapse': 'Daralt',
        'common.more': 'Daha Fazla',
        'common.less': 'Daha Az',
        'common.details': 'Detaylar',
        'common.summary': 'Özet',
        'common.description': 'Açıklama',
        'common.title': 'Başlık',
        'common.name': 'Ad',
        'common.email': 'E-posta',
        'common.phone': 'Telefon',
        'common.address': 'Adres',
        'common.city': 'Şehir',
        'common.country': 'Ülke',
        'common.zip': 'Posta Kodu',
        'common.date': 'Tarih',
        'common.time': 'Saat',
        'common.duration': 'Süre',
        'common.quantity': 'Miktar',
        'common.amount': 'Miktar',
        'common.total': 'Toplam',
        'common.subtotal': 'Ara Toplam',
        'common.tax': 'Vergi',
        'common.discount': 'İndirim',
        'common.shipping': 'Kargo',
        'common.free': 'Ücretsiz',
        'common.paid': 'Ödendi',
        'common.pending': 'Beklemede',
        'common.processing': 'İşleniyor',
        'common.shipped': 'Kargoya Verildi',
        'common.delivered': 'Teslim Edildi',
        'common.cancelled': 'İptal Edildi',
        'common.returned': 'İade Edildi',
        'common.refunded': 'İade Edildi',
        'common.active': 'Aktif',
        'common.inactive': 'Pasif',
        'common.enabled': 'Etkin',
        'common.disabled': 'Devre Dışı',
        'common.available': 'Mevcut',
        'common.unavailable': 'Mevcut Değil',
        'common.in_stock': 'Stokta',
        'common.out_of_stock': 'Stokta Yok',
        'common.low_stock': 'Az Stok',
        'common.new': 'Yeni',
        'common.old': 'Eski',
        'common.latest': 'En Son',
        'common.popular': 'Popüler',
        'common.featured': 'Öne Çıkan',
        'common.best_seller': 'En Çok Satan',
        'common.recommended': 'Önerilen',
        'common.similar': 'Benzer',
        'common.related': 'İlgili',
        'common.recent': 'Son',
        'common.trending': 'Trend',
        'common.hot': 'Sıcak',
        'common.cool': 'Havalı',
        'common.awesome': 'Harika',
        'common.amazing': 'Muhteşem',
        'common.fantastic': 'Fantastik',
        'common.excellent': 'Mükemmel',
        'common.great': 'Harika',
        'common.good': 'İyi',
        'common.bad': 'Kötü',
        'common.terrible': 'Berbat',
        'common.wonderful': 'Harika',
        'common.beautiful': 'Güzel',
        'common.ugly': 'Çirkin',
        'common.big': 'Büyük',
        'common.small': 'Küçük',
        'common.large': 'Büyük',
        'common.tiny': 'Minik',
        'common.huge': 'Kocaman',
        'common.massive': 'Devasa',
        'common.giant': 'Dev',
        'common.mini': 'Mini',
        'common.micro': 'Mikro',
        'common.macro': 'Makro',
        'common.mega': 'Mega',
        'common.giga': 'Giga',
        'common.tera': 'Tera',
        'common.peta': 'Peta',
        'common.exa': 'Exa',
        'common.zetta': 'Zetta',
        'common.yotta': 'Yotta'
      },
      en: {
        'nav.home': 'Home',
        'nav.products': 'Products',
        'nav.about': 'About',
        'nav.contact': 'Contact',
        'nav.blog': 'Blog',
        'nav.campaigns': 'Campaigns',
        'nav.cart': 'Cart',
        'nav.profile': 'Profile',
        'nav.orders': 'My Orders',
        'nav.wishlist': 'Wishlist',
        'nav.login': 'Login',
        'nav.register': 'Register',
        'nav.logout': 'Logout',
        'nav.admin': 'Admin',
        'hero.title': '3D Print Figures',
        'hero.subtitle': 'High quality 3D printed figures of anime, game and movie characters',
        'hero.cta': 'Explore Products',
        'features.quality': 'Premium Quality',
        'features.quality.desc': 'High quality figures produced with professional 3D printers',
        'features.fast': 'Fast Delivery',
        'features.fast.desc': 'At your door in 2-5 business days',
        'features.secure': 'Secure Shopping',
        'features.secure.desc': 'Protected payment with SSL certificate',
        'features.satisfaction': 'Customer Satisfaction',
        'features.satisfaction.desc': '100% customer satisfaction guarantee',
        'footer.about': 'About',
        'footer.products': 'Products',
        'footer.support': 'Support',
        'footer.legal': 'Legal',
        'footer.contact': 'Contact',
        'footer.follow': 'Follow',
        'footer.rights': 'All rights reserved.',
        'product.add_to_cart': 'Add to Cart',
        'product.view_details': 'View Details',
        'product.price': 'Price',
        'product.stock': 'Stock',
        'product.category': 'Category',
        'cart.title': 'My Cart',
        'cart.empty': 'Your cart is empty',
        'cart.total': 'Total',
        'cart.checkout': 'Checkout',
        'cart.remove': 'Remove',
        'checkout.title': 'Checkout',
        'checkout.shipping': 'Shipping Information',
        'checkout.payment': 'Payment',
        'checkout.complete': 'Complete Order',
        'admin.dashboard': 'Dashboard',
        'admin.products': 'Products',
        'admin.orders': 'Orders',
        'admin.customers': 'Customers',
        'admin.analytics': 'Analytics',
        'admin.settings': 'Settings',
        'common.loading': 'Loading...',
        'common.error': 'An error occurred',
        'common.success': 'Success',
        'common.save': 'Save',
        'common.cancel': 'Cancel',
        'common.delete': 'Delete',
        'common.edit': 'Edit',
        'common.view': 'View',
        'common.close': 'Close',
        'common.search': 'Search',
        'common.filter': 'Filter',
        'common.sort': 'Sort',
        'common.back': 'Back',
        'common.next': 'Next',
        'common.previous': 'Previous',
        'common.page': 'Page',
        'common.of': 'of',
        'common.results': 'results',
        'common.items': 'items',
        'common.yes': 'Yes',
        'common.no': 'No',
        'common.ok': 'OK',
        'common.confirm': 'Confirm',
        'common.required': 'Required',
        'common.optional': 'Optional',
        'common.all': 'All',
        'common.none': 'None',
        'common.select': 'Select',
        'common.choose': 'Choose',
        'common.upload': 'Upload',
        'common.download': 'Download',
        'common.print': 'Print',
        'common.share': 'Share',
        'common.copy': 'Copy',
        'common.paste': 'Paste',
        'common.cut': 'Cut',
        'common.undo': 'Undo',
        'common.redo': 'Redo',
        'common.refresh': 'Refresh',
        'common.reload': 'Reload',
        'common.reset': 'Reset',
        'common.clear': 'Clear',
        'common.select_all': 'Select All',
        'common.deselect_all': 'Deselect All',
        'common.toggle': 'Toggle',
        'common.show': 'Show',
        'common.hide': 'Hide',
        'common.expand': 'Expand',
        'common.collapse': 'Collapse',
        'common.more': 'More',
        'common.less': 'Less',
        'common.details': 'Details',
        'common.summary': 'Summary',
        'common.description': 'Description',
        'common.title': 'Title',
        'common.name': 'Name',
        'common.email': 'Email',
        'common.phone': 'Phone',
        'common.address': 'Address',
        'common.city': 'City',
        'common.country': 'Country',
        'common.zip': 'ZIP Code',
        'common.date': 'Date',
        'common.time': 'Time',
        'common.duration': 'Duration',
        'common.quantity': 'Quantity',
        'common.amount': 'Amount',
        'common.total': 'Total',
        'common.subtotal': 'Subtotal',
        'common.tax': 'Tax',
        'common.discount': 'Discount',
        'common.shipping': 'Shipping',
        'common.free': 'Free',
        'common.paid': 'Paid',
        'common.pending': 'Pending',
        'common.processing': 'Processing',
        'common.shipped': 'Shipped',
        'common.delivered': 'Delivered',
        'common.cancelled': 'Cancelled',
        'common.returned': 'Returned',
        'common.refunded': 'Refunded',
        'common.active': 'Active',
        'common.inactive': 'Inactive',
        'common.enabled': 'Enabled',
        'common.disabled': 'Disabled',
        'common.available': 'Available',
        'common.unavailable': 'Unavailable',
        'common.in_stock': 'In Stock',
        'common.out_of_stock': 'Out of Stock',
        'common.low_stock': 'Low Stock',
        'common.new': 'New',
        'common.old': 'Old',
        'common.latest': 'Latest',
        'common.popular': 'Popular',
        'common.featured': 'Featured',
        'common.best_seller': 'Best Seller',
        'common.recommended': 'Recommended',
        'common.similar': 'Similar',
        'common.related': 'Related',
        'common.recent': 'Recent',
        'common.trending': 'Trending',
        'common.hot': 'Hot',
        'common.cool': 'Cool',
        'common.awesome': 'Awesome',
        'common.amazing': 'Amazing',
        'common.fantastic': 'Fantastic',
        'common.excellent': 'Excellent',
        'common.great': 'Great',
        'common.good': 'Good',
        'common.bad': 'Bad',
        'common.terrible': 'Terrible',
        'common.wonderful': 'Wonderful',
        'common.beautiful': 'Beautiful',
        'common.ugly': 'Ugly',
        'common.big': 'Big',
        'common.small': 'Small',
        'common.large': 'Large',
        'common.tiny': 'Tiny',
        'common.huge': 'Huge',
        'common.massive': 'Massive',
        'common.giant': 'Giant',
        'common.mini': 'Mini',
        'common.micro': 'Micro',
        'common.macro': 'Macro',
        'common.mega': 'Mega',
        'common.giga': 'Giga',
        'common.tera': 'Tera',
        'common.peta': 'Peta',
        'common.exa': 'Exa',
        'common.zetta': 'Zetta',
        'common.yotta': 'Yotta'
      }
    };

    const localeTranslations = translations[locale] || translations[defaultLocale];
    let translation = localeTranslations[key] || key;

    // Simple parameter replacement
    if (params) {
      Object.keys(params).forEach(param => {
        translation = translation.replace(`{{${param}}}`, String(params[param]));
      });
    }

    return translation;
  }, [locale]);

  return {
    locale,
    changeLanguage,
    t,
    locales
  };
}
